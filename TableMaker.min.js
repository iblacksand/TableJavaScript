function makeTable(){var e=document.body,t=document.createElement("table");t.id="madeTable",t.style="font-family:arial",t.className="pure-table sortable";var a=fileInput.files[0],l=new FileReader,n="";l.readAsText(a),l.onload=function(e){n=l.result;for(var a=n.split("\n"),o=a[0].split(","),r=t.createTHead(),d=r.insertRow(),i=0;i<o.length;i++){var c=d.insertCell();c.appendChild(document.createTextNode(o[i]))}for(var s=t.createTBody(),i=1;i<a.length;i++)for(var u=a[i].split(","),m=s.insertRow(),b=0;b<u.length;b++){var f=m.insertCell();f.appendChild(document.createTextNode(u[b]))}t.createTFoot();sorttable.makeSortable(t)},e.appendChild(t)}function saveTable(){$(document).ready(function(){var e='<table style="font-family:arial" class="pure-table"'+$("#madeTable").html()+"</table>";download("table.txt",e)})}function download(e,t){var a=document.getElementById("makeTable");if(a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),document.createEvent){var l=document.createEvent("MouseEvents");l.initEvent("click",!0,!0),a.dispatchEvent(l)}else a.click()}